{"version":3,"sources":["assets\\src\\scenes\\login\\LoginScene.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { G } from \"../../G\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class LoginScene extends cc.Component {\n\n    @property(cc.EditBox)\n    private usernameInputBox: cc.EditBox = null;\n    @property(cc.EditBox)\n    private passwordInputBox: cc.EditBox = null;\n    @property(cc.Button)\n    private loginButton: cc.Button = null;\n    @property(cc.Button)\n    private registerButton: cc.Button = null;\n\n    public start() {\n        this.addListeners();\n        if(!G.ws.isOpen()) {\n            G.gameRoot.showMaskMessage(\"正在连接服务器\");\n            G.ws.connect(\"ws://127.0.0.1:1323/ws\");\n            // G.ws.connect(\"ws://192.168.2.102:1323/ws\");\n            // G.ws.connect(\"ws://192.168.199.237:1323/ws\");\n            // G.ws.connect(\"ws://119.29.40.244:1323/ws\");\n        }\n    }\n\n    public addListeners() {\n        this.loginButton.node.on(cc.Node.EventType.TOUCH_END, this.onBtnLogin, this);\n        this.registerButton.node.on(cc.Node.EventType.TOUCH_END, this.onBtnRegister, this);\n        G.ws.on(\"ws_open\",this.onWsOpenSuccess,this);\n        G.ws.on(\"login\",this.onWsLoginSuccess,this);\n        G.ws.on(\"error\",this.onWsError,this);\n    }\n\n    onBtnLogin() {\n        G.gameRoot.showMaskMessage(\"正在登陆\");\n        let username = this.usernameInputBox.string;\n        let password = this.passwordInputBox.string;\n        let params = {\n            username: username,\n            password: password\n        }\n        G.ws.emit(\"login\",params);\n    }\n\n    onBtnRegister() {\n        G.onEnterRegister();\n    }\n\n    onWsOpenSuccess(data) {\n        G.gameRoot.hideMaskMessage();\n    }\n\n    onWsLoginSuccess(data) {\n        G.gameRoot.hideMaskMessage();\n        G.onLoginSuccess(data);\n    }\n\n    onWsError(err) {\n        G.gameRoot.hideMaskMessage();\n        G.gameRoot.showTip(err.message);\n        // G.gameRoot.showMaskMessage(err.message,1000);\n    }\n\n    onBtnTest1(){\n        G.gameRoot.showMaskMessage(\"正在登陆\");\n        let params = {\n            username: \"001\",\n            password: \"001\"\n        }\n        G.ws.emit(\"login\",params);\n    }\n    onBtnTest2() {\n        G.gameRoot.showMaskMessage(\"正在登陆\");\n        let params = {\n            username: \"002\",\n            password: \"002\"\n        }\n        G.ws.emit(\"login\",params);\n    }\n    onBtnTest3() {\n        G.gameRoot.showMaskMessage(\"正在登陆\");\n        let params = {\n            username: \"003\",\n            password: \"003\"\n        }\n        G.ws.emit(\"login\",params);\n    }\n    onBtnTest4() {\n        G.gameRoot.showMaskMessage(\"正在登陆\");\n        let params = {\n            username: \"004\",\n            password: \"004\"\n        }\n        G.ws.emit(\"login\",params);\n    }\n\n}\n"]}